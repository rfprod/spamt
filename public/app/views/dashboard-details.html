<div id="dashboard-data">
	<div *ngIf="displayError" class="alert alert-danger alert-dismissible" role="alert">
		<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		{{displayError}}
	</div>
	<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
		<legend>User</legend>
		<div *ngIf="!userSelected()">
			<div class="input-group row" [ngClass]="{ 'has-error': (!scUserName || scUserName.length < 3) }">
				<span class="input-group-addon">http://soundcloud.com/</span>
				<input type="text" class="form-control" [(ngModel)]="scUserName" pattern="scUserNamePattern" (keyup)="scUserNameKey($event)">
				<span class="input-group-btn">
					<button class="btn" [ngClass]="{ 'btn-danger': (!scUserName || scUserName.length < 3), 'btn-success': (scUserName && scUserName.length >= 3) }" (click)="getUser()" [disabled]="!scUserName || scUserName.length < 3 ">get</button>
				</span>
			</div>
		</div>
		<div *ngIf="userSelected()">
			<div class="input-group row">
				<span class="input-group-addon">http://soundcloud.com/{{scUserName}}</span>
				<span class="input-group-btn">
					<button class="btn btn-danger" (click)="resetSelection()">
						<i class="glyphicon glyphicon-remove"></i>
					</button>
				</span>
			</div>
			<div class="thumbnail" id="sc-user">
				<a [href]="publicData.user.permalink_url" target=_blank>
					<img [src]="publicData.user.avatar_url" alt="{{publicData.user.permalink}}">
				</a>
				<div class="caption">
					<h3>{{publicData.user.username}}</h3>
					<h4>{{publicData.user.full_name}}</h4>
					<h4>
						<span class="label label-default">{{publicData.user.plan}}</span>
						<span class="label label-default">{{publicData.user.kind}}</span>
						<span class="label" [ngClass]="{ 'label-success': publicData.user.online, 'label-danger': !publicData.user.online }">{{ (publicData.user.online) ? 'online' : 'offline' }}</span>
					</h4>
					<table class="table table-condensed table-hover">
						<tbody>
							<tr>
								<td class="hidden-xs hidden-sm">Id</td>
								<td><i class="glyphicon glyphicon-info-sign hidden-md hidden-lg" title="Id"></i> {{publicData.user.id}}</td>
							</tr>
							<tr>
								<td class="hidden-xs hidden-sm">Last&nbsp;modified</td>
								<td><i class="glyphicon glyphicon-time hidden-md hidden-lg" title="Last modified"></i> {{publicData.user.last_modified | date: 'yyyy-MM-dd hh:mm'}}</td>
							</tr>
							<tr>
								<td class="hidden-xs hidden-sm">Location</td>
								<td><i class="glyphicon glyphicon-globe hidden-md hidden-lg" title="Location"></i> {{publicData.user.country}} / {{publicData.user.city}}</td>
							</tr>
							<tr *ngIf="publicData.user.discogs_name">
								<td class="hidden-xs hidden-sm">Discogs&nbsp;name</td>
								<td><i class="glyphicon glyphicon-link hidden-md hidden-lg" title="Discogs name"></i> {{publicData.user.discogs_name}}</td>
							</tr>
							<tr *ngIf="publicData.user.myspace_name">
								<td class="hidden-xs hidden-sm">Myspace&nbsp;name</td>
								<td><i class="glyphicon glyphicon-link hidden-md hidden-lg" title="Myspace name"></i> {{publicData.user.myspace_name}}</td>
							</tr>
							<tr>
								<td class="hidden-xs hidden-sm">Website</td>
								<td><a [href]="publicData.user.website" target=_blank><i class="glyphicon glyphicon-home" title="Website"></i> {{publicData.user.website_title}}</a></td>
							</tr>
							<tr [ngClass]="{ 'info': selectedTab === 'Tracks' }">
								<td class="hidden-xs hidden-sm">Tracks</td>
								<td><i class="glyphicon glyphicon-music hidden-md hidden-lg" title="Tracks"></i> {{publicData.user.track_count}}</td>
							</tr>
							<tr [ngClass]="{ 'info': selectedTab === 'Playlists' }">
								<td class="hidden-xs hidden-sm">Playlists</td>
								<td><i class="glyphicon glyphicon-list-alt hidden-md hidden-lg" title="Playlists"></i> {{publicData.user.playlist_count}}</td>
							</tr>
							<tr [ngClass]="{ 'info': selectedTab === 'Favorites' }">
								<td class="hidden-xs hidden-sm">Favorites</td>
								<td><i class="glyphicon glyphicon-heart hidden-md hidden-lg" title="Public favorites"></i> {{publicData.user.public_favorites_count}}</td>
							</tr>
							<tr [ngClass]="{ 'info': selectedTab === 'Followers' }">
								<td class="hidden-xs hidden-sm">Followers</td>
								<td><i class="glyphicon glyphicon-user hidden-md hidden-lg" title="Followers"></i> {{publicData.user.followers_count}}</td>
							</tr>
							<tr [ngClass]="{ 'info': selectedTab === 'Followings' }">
								<td class="hidden-xs hidden-sm">Followings</td>
								<td><i class="glyphicon glyphicon-user hidden-md hidden-lg" title="Followings"></i> {{publicData.user.followings_count}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
		<legend>Data</legend>
		<span role="navigation">
			<ul class="nav nav-tabs nav-justified">
				<li role="presentation" *ngFor="let tab of dataTabs" [ngClass]="{ 'active': tab === selectedTab }">
					<a (click)="selectTab(tab)">{{tab}}</a>
				</li>
			</ul>
		</span>
		<div id="filters">
			<span class="flex-item">
				<span class="input-label"><i class="fa fa-search" aria-hidden="true"></i> Search:</span>
				<input [(ngModel)]="filterSearchQuery" class="form-control">
			</span>
			<span class="flex-item">
				<span class="input-label"><i class="fa fa-sort" aria-hidden="true"></i> Sort by:</span>
				<select [(ngModel)]="sortByCriterion" class="form-control">
					<option value="name">Alphabetical</option>
					<option value="timestamp">Timestamp</option>
				</select>
			</span>
		</div>
		<div class="panel panel-default" *ngFor="let tab of dataTabs" [hidden]="tab !== selectedTab">
			<div class="panel-body">
				{{tab}}
			</div>
		</div>
	</div>
</div>
